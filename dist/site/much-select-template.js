const getMuchSelectTemplate = (styleTag) => {
  const templateTag = document.createElement("template");
  templateTag.innerHTML = `
    <div>
      ${styleTag}
      <slot name="select-input"></slot>
      <div id="mount-node"></div>
      <script id="filter-worker" type="javascript/worker">
        !function(n){"use strict";function r(n,r,t){return t.a=n,t.f=r,t}function t(n){return r(2,n,(function(r){return function(t){return n(r,t)}}))}function u(n){return r(3,n,(function(r){return function(t){return function(u){return n(r,t,u)}}}))}function e(n){return r(4,n,(function(r){return function(t){return function(u){return function(e){return n(r,t,u,e)}}}}))}function i(n){return r(5,n,(function(r){return function(t){return function(u){return function(e){return function(i){return n(r,t,u,e,i)}}}}}))}function a(n){return r(6,n,(function(r){return function(t){return function(u){return function(e){return function(i){return function(a){return n(r,t,u,e,i,a)}}}}}}))}function f(n){return r(7,n,(function(r){return function(t){return function(u){return function(e){return function(i){return function(a){return function(f){return n(r,t,u,e,i,a,f)}}}}}}}))}function o(n,r,t){return 2===n.a?n.f(r,t):n(r)(t)}function c(n,r,t,u){return 3===n.a?n.f(r,t,u):n(r)(t)(u)}function b(n,r,t,u,e){return 4===n.a?n.f(r,t,u,e):n(r)(t)(u)(e)}function s(n,r,t,u,e,i){return 5===n.a?n.f(r,t,u,e,i):n(r)(t)(u)(e)(i)}function v(n,r,t,u,e,i,a){return 6===n.a?n.f(r,t,u,e,i,a):n(r)(t)(u)(e)(i)(a)}function l(n,r,t,u,e,i,a,f){return 7===n.a?n.f(r,t,u,e,i,a,f):n(r)(t)(u)(e)(i)(a)(f)}var $=u((function(n,r,t){for(var u=Array(n),e=0;n>e;e++)u[e]=t(r+e);return u})),h=t((function(n,r){for(var t=Array(n),u=0;n>u&&r.b;u++)t[u]=r.a,r=r.b;return t.length=u,T(t,r)}));function g(n){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+n+".md")}function p(n,r){for(var t,u=[],e=d(n,r,0,u);e&&(t=u.pop());e=d(t.a,t.b,0,u));return e}function d(n,r,t,u){if(n===r)return!0;if("object"!=typeof n||null===n||null===r)return"function"==typeof n&&g(5),!1;if(t>100)return u.push(T(n,r)),!0;for(var e in 0>n.$&&(n=_n(n),r=_n(r)),n)if(!d(n[e],r[e],t+1,u))return!1;return!0}function m(n,r,t){if("object"!=typeof n)return n===r?0:r>n?-1:1;if(void 0===n.$)return(t=m(n.a,r.a))||(t=m(n.b,r.b))?t:m(n.c,r.c);for(;n.b&&r.b&&!(t=m(n.a,r.a));n=n.b,r=r.b);return t||(n.b?1:r.b?-1:0)}function T(n,r){return{a:n,b:r}}function w(n,r){var t={};for(var u in n)t[u]=n[u];for(var u in r)t[u]=r[u];return t}function S(n,r){if("string"==typeof n)return n+r;if(!n.b)return r;var t=O(n.a,r);n=n.b;for(var u=t;n.b;n=n.b)u=u.b=O(n.a,r);return t}var y={$:0};function O(n,r){return{$:1,a:n,b:r}}var j=t(O);function A(n){for(var r=y,t=n.length;t--;)r=O(n[t],r);return r}function E(n){for(var r=[];n.b;n=n.b)r.push(n.a);return r}var k=u((function(n,r,t){for(var u=[];r.b&&t.b;r=r.b,t=t.b)u.push(o(n,r.a,t.a));return A(u)})),C=t((function(n,r){return n+r}));var N=Math.ceil,R=Math.floor,x=Math.log;var M=t((function(n,r){return n+r}));var F=u((function(n,r,t){for(var u=t.length,e=0;u>e;){var i=t[e],a=t.charCodeAt(e);e++,55296>a||a>56319||(i+=t[e],e++),r=o(n,i,r)}return r})),L=u((function(n,r,t){for(var u=t.length;u--;){var e=t[u],i=t.charCodeAt(u);56320>i||i>57343||(e=t[--u]+e),r=o(n,e,r)}return r})),I=t((function(n,r){return r.split(n)})),q=t((function(n,r){return r.join(n)})),B=u((function(n,r,t){return t.slice(n,r)}));var J=t((function(n,r){for(var t=r.length;t--;){var u=r[t],e=r.charCodeAt(t);if(56320>e||e>57343||(u=r[--t]+u),!n(u))return!1}return!0})),D=t((function(n,r){return r.indexOf(n)>-1})),G=t((function(n,r){var t=n.length;if(1>t)return y;for(var u=0,e=[];(u=r.indexOf(n,u))>-1;)e.push(u),u+=t;return A(e)}));function _(n){return{$:2,b:n}}var P=_((function(n){return"number"!=typeof n?fn("an INT",n):n>-2147483647&&2147483647>n&&(0|n)===n?Hn(n):!isFinite(n)||n%1?fn("an INT",n):Hn(n)})),Q=_((function(n){return"boolean"==typeof n?Hn(n):fn("a BOOL",n)})),W=(_((function(n){return"number"==typeof n?Hn(n):fn("a FLOAT",n)})),_((function(n){return Hn(n)}))),Y=_((function(n){return"string"==typeof n?Hn(n):n instanceof String?Hn(n+""):fn("a STRING",n)}));var H=t((function(n,r){return{$:6,d:n,b:r}}));function z(n,r){return{$:9,f:n,g:r}}var K=t((function(n,r){return{$:10,b:r,h:n}}));var U=t((function(n,r){return z(n,[r])})),V=u((function(n,r,t){return z(n,[r,t])})),X=e((function(n,r,t,u){return z(n,[r,t,u])})),Z=i((function(n,r,t,u,e){return z(n,[r,t,u,e])})),nn=f((function(n,r,t,u,e,i,a){return z(n,[r,t,u,e,i,a])})),rn=t((function(n,r){return tn(n,r)}));function tn(n,r){switch(n.$){case 2:return n.b(r);case 5:return null===r?Hn(n.c):fn("null",r);case 3:return en(r)?un(n.b,r,A):fn("a LIST",r);case 4:return en(r)?un(n.b,r,an):fn("an ARRAY",r);case 6:var t=n.d;if("object"!=typeof r||null===r||!(t in r))return fn("an OBJECT with a field named "+t+"",r);var u=tn(n.b,r[t]);return qr(u)?u:Pn(o(Wn,t,u.a));case 7:var e=n.e;if(!en(r))return fn("an ARRAY",r);if(e>=r.length)return fn("a LONGER array. Need index "+e+" but only see "+r.length+" entries",r);u=tn(n.b,r[e]);return qr(u)?u:Pn(o(Yn,e,u.a));case 8:if("object"!=typeof r||null===r||en(r))return fn("an OBJECT",r);var i=y;for(var a in r)if(r.hasOwnProperty(a)){u=tn(n.b,r[a]);if(!qr(u))return Pn(o(Wn,a,u.a));i=O(T(a,u.a),i)}return Hn(hr(i));case 9:for(var f=n.f,c=n.g,b=0;c.length>b;b++){u=tn(c[b],r);if(!qr(u))return u;f=f(u.a)}return Hn(f);case 10:u=tn(n.b,r);return qr(u)?tn(n.h(u.a),r):u;case 11:for(var s=y,v=n.g;v.b;v=v.b){u=tn(v.a,r);if(qr(u))return u;s=O(u.a,s)}return Pn(zn(hr(s)));case 1:return Pn(o(Qn,n.a,r));case 0:return Hn(n.a)}}function un(n,r,t){for(var u=r.length,e=Array(u),i=0;u>i;i++){var a=tn(n,r[i]);if(!qr(a))return Pn(o(Yn,i,a.a));e[i]=a.a}return Hn(t(e))}function en(n){return Array.isArray(n)||"undefined"!=typeof FileList&&n instanceof FileList}function an(n){return o(Ir,n.length,(function(r){return n[r]}))}function fn(n,r){return Pn(o(Qn,"Expecting "+n,r))}var on=t((function(n,r){return JSON.stringify(r,null,n)+""}));function cn(n){return n}var bn=u((function(n,r,t){return t[n]=r,t}));function sn(n){return{$:0,a:n}}function vn(n){return{$:2,b:n,c:null}}var ln=t((function(n,r){return{$:3,b:n,d:r}}));var $n=0;function hn(n){var r={$:0,e:$n++,f:n,g:null,h:[]};return mn(r),r}function gn(n,r){n.h.push(r),mn(n)}var pn=!1,dn=[];function mn(n){if(dn.push(n),!pn){for(pn=!0;n=dn.shift();)Tn(n);pn=!1}}function Tn(n){for(;n.f;){var r=n.f.$;if(0===r||1===r){for(;n.g&&n.g.$!==r;)n.g=n.g.i;if(!n.g)return;n.f=n.g.b(n.f.a),n.g=n.g.i}else{if(2===r)return void(n.f.c=n.f.b((function(r){n.f=r,mn(n)})));if(5===r){if(0===n.h.length)return;n.f=n.f.b(n.h.shift())}else n.g={$:3===r?0:1,b:n.f.b,i:n.g},n.f=n.f.d}}}var wn=e((function(n,r,t,u){return function(n,r,t,u,e,i){var a=o(rn,n,r?r.flags:void 0);qr(a)||g(2);var f={},c=t(a.a),b=c.a,s=i(l,b),v=function(n,r){var t;for(var u in Sn){var e=Sn[u];e.a&&((t=t||{})[u]=e.a(u,r)),n[u]=yn(e,r)}return t}(f,l);function l(n,r){var t=o(u,n,b);s(b=t.a,r),kn(f,t.b,e(b))}return kn(f,c.b,e(b)),v?{ports:v}:{}}(r,u,n.cj,n.c3,n.c_,(function(){return function(){}}))}));var Sn={};function yn(n,r){var t={g:r,h:void 0},u=n.c,e=n.d,i=n.e,a=n.f;function f(n){return o(ln,f,{$:5,b:function(r){var f=r.a;return 0===r.$?c(e,t,f,n):i&&a?b(u,t,f.i,f.j,n):c(u,t,i?f.i:f.j,n)}})}return t.h=hn(o(ln,f,n.b))}function On(n){return function(r){return{$:1,k:n,l:r}}}function jn(n){return{$:2,m:n}}var An=[],En=!1;function kn(n,r,t){if(An.push({p:n,q:r,r:t}),!En){En=!0;for(var u;u=An.shift();)Cn(u.p,u.q,u.r);En=!1}}function Cn(n,r,t){var u={};for(var e in Nn(!0,r,u,null),Nn(!1,t,u,null),n)gn(n[e],{$:"fx",a:u[e]||{i:y,j:y}})}function Nn(n,r,t,u){switch(r.$){case 1:var e=r.k,i=function(n,r,t,u){function e(n){for(var r=t;r;r=r.t)n=r.s(n);return n}return o(n?Sn[r].e:Sn[r].f,e,u)}(n,e,u,r.l);return void(t[e]=function(n,r,t){return t=t||{i:y,j:y},n?t.i=O(r,t.i):t.j=O(r,t.j),t}(n,i,t[e]));case 2:for(var a=r.m;a.b;a=a.b)Nn(n,a.a,t,u);return;case 3:return void Nn(n,r.o,t,{s:r.n,t:u})}}function Rn(n){Sn[n]&&g(3)}function xn(n,r){return Rn(n),Sn[n]={e:Mn,u:r,a:Fn},On(n)}var Mn=t((function(n,r){return r}));function Fn(n){var r,t=[],e=Sn[n].u,i=(r=0,vn((function(n){var t=setTimeout((function(){n(sn(0))}),r);return function(){clearTimeout(t)}})));return Sn[n].b=i,Sn[n].c=u((function(n,r){for(;r.b;r=r.b)for(var u=t,a=e(r.a),f=0;u.length>f;f++)u[f](a);return i})),{subscribe:function(n){t.push(n)},unsubscribe:function(n){var r=(t=t.slice()).indexOf(n);0>r||t.splice(r,1)}}}function Ln(n,r){return Rn(n),Sn[n]={f:In,u:r,a:qn},On(n)}var In=t((function(n,r){return function(t){return n(r(t))}}));function qn(n,r){var t=y,e=Sn[n].u,i=sn(null);return Sn[n].b=i,Sn[n].c=u((function(n,r){return t=r,i})),{send:function(n){var u=o(rn,e,n);qr(u)||g(4);for(var i=u.a,a=t;a.b;a=a.b)r(a.a(i))}}}function Bn(n,r){for(var t in r)t in n?"init"==t?g(6):Bn(n[t],r[t]):n[t]=r[t]}var Jn,Dn=j,Gn=u((function(n,r,t){for(;;){if(-2===t.$)return r;var u=t.d,e=n,i=c(n,t.b,t.c,c(Gn,n,r,t.e));n=e,r=i,t=u}})),_n=function(n){return c(Gn,u((function(n,r,t){return o(Dn,T(n,r),t)})),y,n)},Pn=function(n){return{$:1,a:n}},Qn=t((function(n,r){return{$:3,a:n,b:r}})),Wn=t((function(n,r){return{$:0,a:n,b:r}})),Yn=t((function(n,r){return{$:1,a:n,b:r}})),Hn=function(n){return{$:0,a:n}},zn=function(n){return{$:2,a:n}},Kn=C,Un=function(n){return{$:0,a:n}},Vn={$:1},Xn=J,Zn=on,nr=function(n){return n+""},rr=t((function(n,r){return o(q,n,E(r))})),tr=t((function(n,r){return A(o(I,n,r))})),ur=function(n){return o(rr,"\\n    ",o(tr,"\\n",n))},er=u((function(n,r,t){for(;;){if(!t.b)return r;var u=t.b,e=n,i=o(n,t.a,r);n=e,r=i,t=u}})),ir=function(n){return c(er,t((function(n,r){return r+1})),0,n)},ar=k,fr=u((function(n,r,t){for(;;){if(m(n,r)>=1)return t;var u=n,e=r-1,i=o(Dn,r,t);n=u,r=e,t=i}})),or=t((function(n,r){return c(fr,n,r,y)})),cr=t((function(n,r){return c(ar,n,o(or,0,ir(r)-1),r)})),br=function(n){var r=n.charCodeAt(0);return 55296>r||r>56319?r:1024*(r-55296)+n.charCodeAt(1)-56320+65536},sr=function(n){var r=br(n);return r>=97&&122>=r},vr=function(n){var r=br(n);return 90>=r&&r>=65},lr=function(n){return sr(n)||vr(n)},$r=function(n){return sr(n)||vr(n)||function(n){var r=br(n);return 57>=r&&r>=48}(n)},hr=function(n){return c(er,Dn,y,n)},gr=function(n){var r=n.charCodeAt(0);return isNaN(r)?Vn:Un(55296>r||r>56319?T(n[0],n.slice(1)):T(n[0]+n[1],n.slice(2)))},pr=t((function(n,r){return"\\n\\n("+nr(n+1)+") "+ur(dr(r))})),dr=function(n){return o(mr,n,y)},mr=t((function(n,r){n:for(;;)switch(n.$){case 0:var t=n.a,u=n.b,e=function(){var n=gr(t);if(1===n.$)return!1;var r=n.a,u=r.b;return lr(r.a)&&o(Xn,$r,u)}();n=u,r=o(Dn,e?"."+t:"['"+t+"']",r);continue n;case 1:u=n.b;var i="["+nr(n.a)+"]";n=u,r=o(Dn,i,r);continue n;case 2:var a=n.a;if(a.b){if(a.b.b){var f=(r.b?"The Json.Decode.oneOf at json"+o(rr,"",hr(r)):"Json.Decode.oneOf")+" failed in the following "+nr(ir(a))+" ways:";return o(rr,"\\n\\n",o(Dn,f,o(cr,pr,a)))}n=u=a.a,r=r;continue n}return"Ran into a Json.Decode.oneOf with no possibilities"+(r.b?" at json"+o(rr,"",hr(r)):"!");default:var c=n.a,b=n.b;return(f=r.b?"Problem with the value at json"+o(rr,"",hr(r))+":\\n\\n    ":"Problem with the given value:\\n\\n")+(ur(o(Zn,4,b))+"\\n\\n")+c}})),Tr=32,wr=e((function(n,r,t,u){return{$:0,a:n,b:r,c:t,d:u}})),Sr=[],yr=N,Or=t((function(n,r){return x(r)/x(n)})),jr=yr(o(Or,2,Tr)),Ar=b(wr,0,jr,Sr,Sr),Er=$,kr=R,Cr=function(n){return n.length},Nr=t((function(n,r){return m(n,r)>0?n:r})),Rr=h,xr=t((function(n,r){for(;;){var t=o(Rr,Tr,n),u=t.b,e=o(Dn,{$:0,a:t.a},r);if(!u.b)return hr(e);n=u,r=e}})),Mr=t((function(n,r){for(;;){var t=yr(r/Tr);if(1===t)return o(Rr,Tr,n).a;n=o(xr,n,y),r=t}})),Fr=t((function(n,r){if(r.e){var t=r.e*Tr,u=kr(o(Or,Tr,t-1)),e=n?hr(r.g):r.g,i=o(Mr,e,r.e);return b(wr,Cr(r.f)+t,o(Nr,5,u*jr),i,r.f)}return b(wr,Cr(r.f),jr,Sr,r.f)})),Lr=i((function(n,r,t,u,e){for(;;){if(0>r)return o(Fr,!1,{g:u,e:t/Tr|0,f:e});var i={$:1,a:c(Er,Tr,r,n)};n=n,r=r-Tr,t=t,u=o(Dn,i,u),e=e}})),Ir=t((function(n,r){if(n>0){var t=n%Tr;return s(Lr,r,n-t-Tr,n,y,c(Er,t,n-t,r))}return Ar})),qr=function(n){return!n.$},Br=jn(y),Jr=function(n){return{$:0,a:n}},Dr=function(n){return{$:1,a:n}},Gr=jn,_r=W,Pr=Ln("receiveOptions",_r),Qr=Ln("receiveSearchString",_r),Wr=function(n){return{$:0,a:n}},Yr=e((function(n,r,t,u){return{b2:u,cQ:t,cR:n,cS:r}})),Hr=Q,zr=V,Kr=Y,Ur=c(zr,t((function(n,r){return{$:0,a:n,b:r}})),Kr,Wr(!0)),Vr={$:1},Xr=K,Zr=function(n){return{$:1,a:n}},nt=P,rt=function(n){return n},tt=function(n){return 0>n?Vn:Un(n)},ut=o(Xr,(function(n){return Wr(n?{$:0,a:n}:Vr)}),o(Xr,(function(n){var r=tt(n);return r.$?Zr("This is not a positive int "+nr(n)):Wr(r.a)}),nt)),et=H,it=s(Z,Yr,o(et,"searchString",Ur),o(et,"searchStringMinimumLength",ut),o(et,"searchNonce",nt),o(et,"isClearingSearch",Hr)),at=rn,ft=cn,ot=function(n){return c(er,t((function(n,r){return c(bn,n.a,n.b,r)})),{},n)},ct=cn,bt=function(n){var r=n.b;return ot(A([T("isHighlighted",ft(n.a)),T("stringChunk",ct(r))]))},st=t((function(n,r){return c(er,function(n){return t((function(r,t){return t.push(n(r)),t}))}(n),[],r)})),vt=function(n){return o(st,bt,n)},lt=cn,$t=function(n){switch(n.$){case 0:return n.f;case 1:return n.d;default:return Vn}},ht={$:1},gt=function(n){var r=function(n){switch(n.$){case 0:case 1:return n.c;case 3:return ht;default:return n.b}}(n);return r.$?"":r.a},pt=function(n){return ot(A([T("value",ct(gt(n))),T("searchFilter",(t=$t(n),t.$?null:(r=t.a,ot(A([T("totalScore",lt(r.a_)),T("bestScore",lt(r.ax)),T("labelTokens",vt(r.aI)),T("descriptionTokens",vt(r.aB)),T("groupTokens",vt(r.aF))])))))]));var r,t},dt=u((function(n,r,t){return ot(A([T("searchNonce",lt(r)),T("clearingSearch",ft(t)),T("options",o(st,pt,n))]))})),mt=e((function(n,r,t,u){if(u.b){var e=u.a,i=u.b;if(i.b){var a=i.a,f=i.b;if(f.b){var s=f.a,v=f.b;if(v.b){var l=v.b;return o(n,e,o(n,a,o(n,s,o(n,v.a,t>500?c(er,n,r,hr(l)):b(mt,n,r,t+1,l)))))}return o(n,e,o(n,a,o(n,s,r)))}return o(n,e,o(n,a,r))}return o(n,e,r)}return r})),Tt=u((function(n,r,t){return b(mt,n,r,0,t)})),wt=t((function(n,r){return c(Tt,t((function(r,t){return n(r)?o(Dn,r,t):t})),y,r)})),St=1e6,yt=function(n){switch(n.$){case 0:case 3:default:return!1;case 1:return!0}},Ot=t((function(n,r){return c(Tt,t((function(r,t){return o(Dn,n(r),t)})),y,r)})),jt=o(Tt,t((function(n,r){return n.$?r:o(Dn,n.a,r)})),y),At=function(n){var r=c(er,t((function(n,r){return 0>m(n,r)?n:r})),St,function(n){return o(Ot,(function(n){return n.ax}),jt(o(Ot,$t,n)))}(o(wt,(function(n){return!yt(n)}),n)));return p(r,St)?Vn:Un(r)},Et=t((function(n,r){var t=$t(r);return!t.$&&m(n,t.a.ax)>-1})),kt=function(n){var r=At(n);if(r.$)return n;var t=r.a;return o(wt,(function(n){return o(Et,(r=t)?r>10?r>100?r>1e3?St:1e4:1e3:100:51,n)||yt(n);var r}),n)},Ct=t((function(n,r){return{$:2,a:n,b:r}})),Nt=t((function(n,r){return{$:2,a:n,b:r}})),Rt=function(n){return{$:0,a:n}},xt=function(n){return{$:11,g:n}},Mt=function(n){return xt(A([o(Xr,(function(r){return"true"===r?Wr(o(Nt,0,n)):Zr("Option is not selected")}),o(et,"selected",Kr)),o(Xr,(function(r){return Wr(r?o(Nt,0,n):Rt(n))}),o(et,"selected",Hr)),o(Xr,(function(r){return r?Wr({$:8,a:n}):Zr("Option is not disabled")}),o(et,"disabled",Hr)),Wr(Rt(n))]))},Ft=function(n){return n.trim()},Lt=o(Xr,(function(n){var r=Ft(n);return Wr(""===r?ht:{$:0,a:r})}),Kr),It=c(zr,Ct,Mt(1),o(et,"value",Lt)),qt=a((function(n,r,t,u,e,i){return{$:0,a:n,b:r,c:t,d:u,e:e,f:i}})),Bt={$:1},Jt=U,Dt=function(n){return{$:5,c:n}},Gt=function(n){return xt(A([Dt(Vn),o(Jt,Un,n)]))},_t=xt(A([c(zr,t((function(n,r){return{$:0,a:n,b:r}})),o(et,"description",Kr),o(et,"descriptionClean",Gt(Kr))),Wr(Bt)])),Pt=u((function(n,r,t){return{$:0,a:n,b:r,c:t}})),Qt=X,Wt={$:2},Yt=xt(A([o(Xr,(function(n){var r=tt(n);return r.$?Zr("The index must be a positive number."):Wr({$:0,a:r.a})}),o(et,"index",nt)),o(Xr,(function(n){var r=tt(n);return r.$?Zr("The weight must be a positive number."):Wr({$:1,a:r.a})}),o(et,"weight",nt)),Wr(Wt)])),Ht=b(Qt,Pt,o(et,"label",Kr),o(et,"labelClean",Gt(Kr)),Yt),zt=nn,Kt={$:1},Ut=xt(A([o(Jt,(function(n){return{$:0,a:n}}),o(et,"group",Kr)),Wr(Kt)])),Vt=function(n){return l(zt,qt,Mt(n),Ht,o(et,"value",Lt),_t,Ut,Wr(Vn))},Xt=t((function(n,r){return{$:3,a:n,b:r}})),Zt=function(n){return o(Xr,(function(r){return r.$?c(zr,Xt,Mt(n),Ht):Zr("It can not be an option without a value because it has a value.")}),o(et,"value",Lt))},nu=t((function(n,r){return r?It:xt(A([Zt(n),Vt(n)]))})),ru=function(n){return{$:3,b:n}},tu=t((function(n,r){return ru(o(nu,n,r))})),uu=xn("sendErrorMessage",ct),eu=xn("sendSearchResults",rt),iu=u((function(n,r,t){n:for(;;){if(n>0){if(r.b){var u=r.a;n=n-1,r=r.b,t=o(Dn,u,t);continue n}return t}return t}})),au=t((function(n,r){return hr(c(iu,n,r,y))})),fu=u((function(n,r,t){if(r>0){var u=T(r,t);n:for(;;){r:for(;;){if(!u.b.b)return t;if(!u.b.b.b){if(1===u.a)break n;break r}switch(u.a){case 1:break n;case 2:var e=u.b;return A([e.a,e.b.a]);case 3:if(u.b.b.b.b){var i=u.b,a=i.b;return A([i.a,a.a,a.b.a])}break r;default:if(u.b.b.b.b&&u.b.b.b.b.b){var f=u.b,b=f.b,s=b.b,v=s.b,l=v.a,$=v.b;return o(Dn,f.a,o(Dn,b.a,o(Dn,s.a,o(Dn,l,n>1e3?o(au,r-4,$):c(fu,n+1,r-4,$)))))}break r}}return t}return A([u.b.a])}return y})),ou=t((function(n,r){return c(fu,0,n,r)})),cu=function(n){return n.length},bu=t((function(n,r){return 1>m(n,r)})),su=e((function(n,r,t,u){return{$:1,a:n,b:r,c:t,d:u}})),vu=t((function(n,r){switch(r.$){case 0:return v(qt,r.a,r.b,r.c,r.d,r.e,n);case 1:return b(su,r.a,r.b,r.c,n);case 3:return o(Xt,r.a,r.b);default:return r}})),lu=D,$u=function(n){return 5>n?5:kr(1.25*n)},hu=function(n){return 0===n.$?n.d:Bt},gu=function(n){return 0===n.$?n.e:Kt},pu=function(n){switch(n.$){case 0:case 1:case 3:return n.b;default:return r=function(n){return n.$?"":n.a}(n.b),c(Pt,r,Vn,Wt)}var r},du=function(n){return 10>n?10:kr(1.5*n)},mu=t((function(n,r){return 0>m(n,r)?n:r})),Tu=i((function(n,r,t,u,e){return{ax:r,aB:u,aF:e,aI:t,a_:n}})),wu=function(n){return n.toLowerCase()},Su=function(n){var r=n.b;return r.$?wu(n.a):r.a},yu=e((function(n,r,t,u){return{cn:u,co:t,cE:r,aT:n}})),Ou=t((function(n,r){return{cq:r,aT:n}})),ju=b(e((function(n,r,t,u){return{ag:n,an:u,ap:r,au:t}})),10,1e3,1e4,1),Au=G,Eu=B,ku=t((function(n,r){for(;;){if(!n.b)return r;var u=n.a;n=n.b,r=c(er,t((function(n,r){return S(r,(e=n,i=cu(u),a=t((function(n,r){var t=r.a,u=r.b,a=A([c(Eu,n,n+i,e)]),f=p(t,n)?y:A([c(Eu,t,n,e)]);return T(n+i,S(u,S(f,a)))})),f=o(Au,u,e),b=c(er,a,T(0,y),f),s=b.a,v=b.b,l=cu(e),S(v,p(s,l)?y:A([c(Eu,s,l,e)]))));var e,i,a,f,b,s,v,l})),y,r)}})),Cu=F,Nu=M,Ru=function(n){return o(Nu,n,"")},xu=function(n){if(n.b){return Un(n.a)}return Vn},Mu=y,Fu=t((function(n,r){for(;;){if(!r.b)return!1;var t=r.b;if(n(r.a))return!0;n=n,r=t}})),Lu=t((function(n,r){return o(Fu,(function(r){return p(r,n)}),r)})),Iu=function(n){return!n.b},qu=t((function(n,r){return c(Tt,t((function(r,t){var u=t.a,e=t.b;return n(r)?T(o(Dn,r,u),e):T(u,o(Dn,r,e))})),T(y,y),r)})),Bu=function(n){if(n.b){var r=n.a,t=o(qu,(function(n){return 0>m(n,r)}),n.b),u=Bu(t.a),e=Iu(u.b)?0:1,i=Bu(t.b);return T(u.a+e+i.a,S(u.b,S(A([r]),i.b)))}return T(0,y)},Ju=u((function(n,r,u){var e=t((function(n,r){if(r.a.$){u=r.b;return T(Un(n),u)}var t=r.a.a,u=r.b;return T(Un(n),n-1-t+u)})),i=c(Cu,t((function(n,r){var t=o(Au,Ru(n),u),e=xu(o(wt,(function(n){return!o(Lu,n,r)}),t));return e.$?r:S(r,A([e.a]))})),Mu,r),a=(cu(u)-ir(i))*n.ag,f=(cu(r)-ir(i))*n.au,s=Bu(i),v=c(er,e,T(Vn,0),s.b).b*n.an;return b(yu,s.a*n.ap+a+f+v,0,cu(u),s.b)})),Du=u((function(n,r,t){for(;;){if(0>=r)return n;n=o(Dn,t,n),r=r-1,t=t}})),Gu=t((function(n,r){return c(Du,y,n,r)})),_u=t((function(n,r){return S(r,o(Gu,n-ir(r),""))})),Pu=t((function(n,r){n:for(;;){if(n>0){if(r.b){n=n-1,r=r.b;continue n}return r}return r}})),Qu=u((function(n,r,u){return T(c(er,t((function(n,r){return cu(n)+r})),0,o(ou,r,u)),o(Pu,r,u))})),Wu=u((function(n,r,t){return o(ou,ir(t)-(n-r-1),t)})),Yu=e((function(n,r,e,i){var a=u((function(n,r,t){return c(Qu,n,r,c(Wu,n,r,o(_u,n,t)))})),f=o(ku,r,A([e])),s=o(Ou,0,y),v=o(ku,r,A([i])),l=c(er,t((function(n,r){switch(n.$){case 0:return w(r,{ag:n.a});case 1:return w(r,{au:n.a});case 2:return w(r,{ap:n.a});default:return w(r,{an:n.a})}})),ju,n),$=t((function(n,r){var u=r.a,e=r.b,a=cu(n)*l.au+cu(n)*l.ap+cu(i)*l.ag+cu(i)*cu(n)*l.an,f=b(yu,a,u,0,y);return c(er,t((function(r,t){var u=t.a,e=t.b,i=e+cu(r),a=c(Ju,l,n,r);return T(0>m(a.aT,u.aT)?w(a,{cE:e}):u,i)})),T(f,u),e).a}));return c(er,t((function(n,r){var t=r.a,u=r.b,e=o($,n,c(a,ir(f),u,v));return T(w(t,{cq:S(t.cq,A([e])),aT:e.aT+t.aT}),u+1)})),T(s,0),f).a})),Hu=t((function(n,r){return b(Yu,y,A([" "]),n,r)})),zu=function(n){if(n.$)return"";var r=n.b;return r.$?wu(n.a):r.a},Ku=t((function(n,r){return b(Yu,y,A([" "]),n,r)})),Uu=t((function(n,r){return{bb:o(Ku,wu(n),zu(hu(r))),bi:o(Hu,wu(n),(t=gu(r),t.$?"":wu(t.a))),bp:o(Ku,wu(n),Su(pu(r)))};var t})),Vu=function(n){return n.a},Xu=u((function(n,r,u){return c(er,t((function(r,t){var u=t.a;return T(u+1,c(n,u,r,t.b))})),T(0,r),u).b})),Zu=y,ne=L,re=t((function(n,r){return r.b?c(Tt,Dn,r,n):n})),te=function(n){return E(n).join("")},ue=t((function(n,r){return!Iu(o(wt,(function(n){return o(Lu,r-n.cE,n.cn)}),n.cq))})),ee=u((function(n,r,u){return c(Cu,t((function(r,t){return o(n,br(r),t)})),r,u)})),ie=t((function(n,r){return o(Dn,n,r)})),ae=function(n){return xu(n)},fe=u((function(n,r,u){var e,i=p(n,(e=u.aG,c(ee,t((function(n,r){return r+1})),0,e)-1));if(o(ue,u.aS,n)){if(ae(u.t).$){if(i){var a=T(!0,te(hr(o(re,A([r]),u.n))));return w(u,{n:Zu,m:o(re,u.m,A([a]))})}return w(u,{n:o(ie,r,u.n)})}if(i){var f=T(!1,te(hr(u.t)));return w(u,{m:o(re,u.m,A([f,T(!0,Ru(r))]))})}f=T(!1,te(hr(u.t)));return w(u,{n:o(ie,r,u.n),t:Zu,m:o(re,u.m,A([f]))})}if(ae(u.n).$){if(i){f=T(!1,te(hr(o(re,A([r]),u.t))));return w(u,{t:Zu,m:o(re,u.m,A([f]))})}return w(u,{n:Zu,t:o(ie,r,u.t)})}if(i){var b=T(!0,te(hr(u.n)));return w(u,{m:o(re,u.m,A([b,T(!1,Ru(r))]))})}b=T(!0,te(hr(u.n)));return w(u,{n:Zu,t:o(ie,r,u.t),m:o(re,u.m,A([b]))})})),oe=t((function(n,r){return c(Xu,fe,{aG:n,n:Zu,t:Zu,aS:r,m:y},(t=n,c(ne,Dn,y,t))).m;var t})),ce=t((function(n,r){return r.$?n:r.a})),be=t((function(n,r){var t,u,e,i,a=o(Uu,Vu(n),r),f=(t=A([a.bp.aT,$u(a.bb.aT),du(a.bi.aT)]),c(er,Kn,0,t)),b=o(oe,pu(r).a,a.bp),v=o(oe,(u=gu(r)).$?"":u.a,a.bi),l=o(oe,(e=hu(r)).$?"":e.a,a.bb),$=o(ce,St,(i=A([a.bp.aT,$u(a.bb.aT),du(a.bi.aT)])).b?Un(c(er,mu,i.a,i.b)):Vn),h=$>100&&o(lu,wu(Vu(n)),wu(Su(pu(r))))?2>cu(Vu(n))?$:3>cu(Vu(n))?50:4>cu(Vu(n))?20:5>cu(Vu(n))?15:6>cu(Vu(n))?10:6>cu(Vu(n))?$:10:$;return o(vu,Un(s(Tu,f,h,b,l,v)),r)})),se=u((function(n,r,t){var u=!!r.$||o(bu,r.a,cu(n.a));return o(Ot,u?be(n):function(n){return o(vu,Vn,n)},t)})),ve=wn({cj:function(){return T(y,Br)},c_:function(){return Gr(A([Pr(Jr),Qr(Dr)]))},c3:t((function(n,r){if(n.$){var t=o(at,it,n.a);if(t.$)return T(r,uu(dr(t.a)));var u=t.a,e=o(ou,100,kt(i=c(se,u.cR,u.cS,r)));return T(i,eu(c(dt,e,u.cQ,u.b2)))}var i,a=n.a,f=o(at,o(tu,1,0),a);return f.$?T(y,uu(dr(f.a))):T(i=f.a,Br)}))});Jn={FilterWorker:{init:ve(Wr(0))(0)}},n.Elm?Bn(n.Elm,Jn):n.Elm=Jn}(this);const app=Elm.FilterWorker.init();onmessage=({data:n})=>{const{portName:r,jsonBlob:t}=n;"receiveOptions"===r?app.ports.receiveOptions.send(t):"receiveSearchString"===r&&app.ports.receiveSearchString.send(t)},app.ports.sendSearchResults.subscribe((n=>{postMessage({messageName:"searchResults",searchResultData:n})})),app.ports.sendErrorMessage.subscribe((n=>{postMessage({messageName:"errorMessage",errorMessage:n})}));
      </script>
    </div>
  `;
  return templateTag;
};

export default getMuchSelectTemplate;